<div class="flex flex-col gap-5 md:p-6">
  <app-search-form
    [(keyword)]="searchKeyword"
    (searchItems)="onSearch($event)"
    placeholder="이름, 연락처, 키워드로 검색해주세요"
    class="w-full md:w-auto"
  />

  <!-- 데스크탑용 테이블 -->
  <section class="hidden flex-col md:flex">
    <ul
      class="grid grid-cols-[1fr_1fr_1.5fr_1.5fr_2fr_2fr_2fr] gap-1 border-b-2 border-gray-200 px-4 py-2 font-semibold text-gray-700"
    >
      @for (category of categories; track category) {
        <li>{{ category }}</li>
      }
    </ul>

    @if (pagedInquiries().length === 0) {
      <p class="p-4 text-center text-gray-500">등록된 문의가 없습니다.</p>
    } @else {
      <ul class="text-sm text-gray-800">
        @for (item of pagedInquiries(); track $index) {
          <app-inquiry-item
            [item]="item"
            [index]="filteredInquiries().length - ($index + (currentPage() - 1) * itemsPerPage())"
          />
        }
      </ul>
    }
  </section>

  <!-- 모바일용 리스트 -->
  <ul class="flex flex-col gap-4 text-sm text-gray-800 md:hidden">
    @if (pagedInquiries().length === 0) {
      <p class="p-4 text-center text-gray-500 md:hidden">등록된 문의가 없습니다.</p>
    } @else {
      @for (item of pagedInquiries(); track $index) {
        <app-inquiry-item
          [item]="item"
          [index]="filteredInquiries().length - ($index + (currentPage() - 1) * itemsPerPage())"
        />
      }
    }
  </ul>

  <section class="flex items-center justify-between">
    <p class="font-extrabold">
      전체<span class="text-blue-500"> {{ filteredInquiries().length }}</span>
    </p>
    <app-pagination
      [currentPage]="currentPage()"
      [totalPages]="totalPages()"
      [itemsPerPage]="itemsPerPage()"
      (pageChange)="currentPage.set($event)"
      (itemsPerPageChange)="onItemsPerPageChange($event)"
    />
  </section>
</div>
