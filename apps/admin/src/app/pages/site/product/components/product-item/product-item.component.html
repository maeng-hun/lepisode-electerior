<!-- Desktop 전용 UI -->
<li
  class="hidden cursor-pointer grid-cols-[1fr_1fr_2fr_2fr_2fr_2fr_2fr_2fr_0.5fr] items-center gap-1 border-b border-gray-200 bg-white px-4 py-2 hover:bg-gray-100 md:grid"
  (click)="openContextMenu($event)"
  role="button"
  tabindex="0"
>
  <span>{{ index() }}</span>

  <span
    class="mr-auto flex max-h-[21px] items-center rounded-full border px-1 whitespace-nowrap"
    [ngClass]="
      item().isExposed ? 'border-green-600 bg-green-100 text-green-600' : 'border-gray-600 bg-gray-100 text-gray-600'
    "
    >{{ item().isExposed ? '노출' : '숨김' }}</span
  >

  <span
    class="flex h-14 w-24 items-center justify-center overflow-hidden bg-gray-50"
    [ngClass]="item().image ? '' : 'bg-gray-50'"
  >
    @if (item().image) {
      <img [src]="item().image?.url || item().image" alt="제품 이미지" class="h-14 w-24 object-cover" />
    }
  </span>

  <span class="line-clamp-1 truncate">{{ productTypeLabel }}</span>
  <span class="line-clamp-1 truncate">{{ item().description }}</span>
  <span class="line-clamp-1 truncate">{{ item().price ? (item().price | number: '1.0-0') + ' 원' : '-' }}</span>

  <a
    href="{{ item().link }}"
    target="_blank"
    rel="noopener noreferrer"
    (click)="$event.stopPropagation()"
    class="line-clamp-1 truncate underline"
  >
    {{ item().link }}
  </a>

  <span class="line-clamp-1 truncate">{{ item().createdAt | date: 'yyyy-MM-dd HH:mm' }}</span>

  <button type="button" class="cursor-move" (click)="$event.stopPropagation()" cdkDrag cdkDragHandle>
    <img src="/assets/hamburger.svg" alt="드래그 드롭 버튼" class="h-[13px] w-[18px]" />
  </button>
</li>

<!-- Mobile 전용 UI -->
<li
  class="flex cursor-pointer flex-col gap-3 rounded-xl border border-gray-200 bg-white p-4 shadow-md transition hover:shadow-lg md:hidden"
  (click)="openContextMenu($event)"
  role="button"
  tabindex="0"
>
  <div class="flex items-center gap-4">
    <div class="flex h-20 w-28 flex-shrink-0 items-center justify-center overflow-hidden rounded-lg bg-gray-50">
      @if (item().image) {
        <img [src]="item().image?.url || item().image" alt="제품 이미지" class="h-full w-full object-cover" />
      }
    </div>

    <div class="flex flex-1 flex-col gap-1">
      <div class="flex justify-between">
        <p class="line-clamp-1 font-semibold text-gray-900">{{ productTypeLabel }}</p>
        <span
          class="max-h-[22px] rounded-full border px-2 py-0.5 text-xs font-medium whitespace-nowrap"
          [ngClass]="
            item().isExposed
              ? 'border-green-600 bg-green-100 text-green-600'
              : 'border-gray-400 bg-gray-100 text-gray-600'
          "
        >
          {{ item().isExposed ? '노출' : '숨김' }}
        </span>
      </div>
      <div class="flex justify-between gap-1">
        <p class="line-clamp-2 text-sm text-gray-600">{{ item().description }}</p>
        <a
          href="{{ item().link }}"
          target="_blank"
          rel="noopener noreferrer"
          (click)="$event.stopPropagation()"
          class="max-h-[22px] min-w-[38px] rounded-full border border-blue-600 bg-white px-2 py-0.5 text-xs font-medium whitespace-nowrap text-blue-600 transition hover:bg-blue-100"
        >
          링크
        </a>
      </div>

      <div class="mt-2 flex items-center justify-between text-xs text-gray-500">
        <span>{{ item().price ? (item().price | number: '1.0-0') + ' 원' : '-' }}</span>
        <span>{{ item().createdAt | date: 'yyyy-MM-dd' }}</span>
      </div>
    </div>
  </div>
</li>
