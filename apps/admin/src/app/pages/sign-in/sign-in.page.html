<section class="mx-auto flex h-dvh flex-col items-center justify-center gap-6">
  <div class="flex flex-col items-center gap-4">
    <div class="relative inline-flex size-16 items-center justify-center">
      <div class="absolute inset-0 rounded-full bg-blue-500"></div>
      <img
        src="https://api.iconify.design/material-symbols:person-shield.svg?color=white"
        alt="관리자 아이콘"
        class="relative size-10"
      />
    </div>
    <h1 class="text-2xl font-extrabold">관리자 로그인</h1>
  </div>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex w-full max-w-xs flex-col gap-6">
    <!-- 이메일 -->
    <div class="flex flex-col gap-2">
      <label for="email" class="flex items-center gap-1 text-xs font-bold">
        이메일 <span class="text-blue-500">*</span>
      </label>
      <div
        class="relative w-full rounded-md border p-2 text-sm"
        [class.border-red-500]="emailErrors"
        [class.border-gray-300]="!emailErrors"
      >
        <img
          src="https://api.iconify.design/lucide:mail.svg?color=gray"
          alt="이메일 아이콘"
          class="absolute top-1/2 left-3 size-4 -translate-y-1/2"
        />
        <input
          id="email"
          type="email"
          formControlName="email"
          maxlength="20"
          placeholder="이메일을 입력해주세요."
          class="w-full pl-8 outline-none placeholder:text-gray-500"
        />
      </div>
      @if (emailErrors) {
        <div class="text-xs text-red-500">
          @if (emailErrors['required']) {
            이메일은 필수 입력 항목입니다.
          }
          @if (emailErrors['email']) {
            올바른 이메일 형식을 입력해주세요.
          }
        </div>
      }
    </div>

    <!-- 비밀번호 -->
    <div class="flex flex-col gap-2">
      <label for="password" class="flex items-center gap-1 text-xs font-bold">
        비밀번호 <span class="text-blue-500">*</span>
      </label>
      <div
        class="relative w-full rounded-md border p-2 text-sm"
        [class.border-red-500]="passwordErrors"
        [class.border-gray-300]="!passwordErrors"
      >
        <img
          src="https://api.iconify.design/lucide:key.svg?color=gray"
          alt="비밀번호 아이콘"
          class="absolute top-1/2 left-3 size-4 -translate-y-1/2"
        />
        <input
          id="password"
          type="password"
          formControlName="password"
          maxlength="20"
          placeholder="비밀번호를 입력해주세요."
          class="w-full pl-8 outline-none placeholder:text-gray-500"
        />
      </div>
      @if (passwordErrors) {
        <div class="text-xs text-red-500">
          @if (passwordErrors['required']) {
            비밀번호는 필수 입력 항목입니다.
          }
          @if (passwordErrors['minlength']) {
            비밀번호는 최소 6자 이상이어야 합니다.
          }
        </div>
      }
    </div>

    <!-- 버튼 , submit()-> onsubmit()-->
    <button
      (click)="onSubmit()"  
      type="submit"
      [disabled]="form.invalid"
      class="cursor-pointer rounded bg-blue-500 p-2 text-sm font-semibold text-white shadow-md transition duration-300 hover:bg-blue-600 disabled:cursor-not-allowed disabled:bg-gray-200 disabled:text-gray-400"
    >
      로그인
    </button>

    <!-- 회원가입 링크 -->
    <div class="flex flex-col items-center gap-2 text-sm">
      <p>회원이 아니신가요?</p>
      <button
        type="button"
        class="cursor-pointer rounded-full bg-blue-500 px-4 py-2 text-sm font-semibold text-white shadow-md transition duration-300 hover:bg-blue-600"
        (click)="goToSignUp()"
      >
        회원가입하러 가기
      </button>
    </div>
  </form>
</section>
